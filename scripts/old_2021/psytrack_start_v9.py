import sys
#sys.path.append('/allen/programs/braintv/workgroups/nc-ophys/Doug/pbstools')
#from pbstools import PythonJob
sys.path.append('/allen/programs/braintv/workgroups/nc-ophys/nick.ponvert/src/pbstools')
from pbstools import PythonJob 

VERSION = '9'

python_file = r"/allen/programs/braintv/workgroups/nc-ophys/alex.piet/behavior/licking_behavior/scripts/psytrack_fit_v"+VERSION+".py"
jobdir = '/allen/programs/braintv/workgroups/nc-ophys/alex.piet/behavior/psy_fits_v'+VERSION+'/psytrack_logs'
job_settings = {'queue': 'braintv',
                'mem': '10g',
                'walltime': '96:00:00',
                'ppn':1,
                'jobdir': jobdir,
                }

# 1/17/19 list, includes passive
behavior_session_ids = [767916282, 767937610, 768638583, 768881549, 768881553, 768881557, 768881561, 768881565, 768881569, 768881586, 768881593, 768881598, 768881602, 768881608, 768881614, 768882704, 768882708, 768882712, 768882716, 768882720, 768882724, 768882728, 768882732, 768882736, 768882740, 768882744, 768882760, 768883531, 768883539, 768883550, 768883555, 768883559, 768883563, 768883567, 768883571, 768883575, 768883579, 768883584, 768883588, 768888032, 768888039, 768888043, 768888064, 768888068, 768888072, 768888076, 768888080, 768888084, 768888088, 768888092, 768888096, 768890449, 768890453, 768890457, 768890461, 768890465, 768890469, 768890476, 768890483, 768890489, 768890493, 768890497, 768890501, 768890932, 768890939, 768890965, 768890969, 768890973, 768890977, 768890981, 768890985, 768890989, 768890993, 768890997, 768891001, 768893576, 768893580, 768893584, 768893588, 768893592, 768893596, 768893600, 768893604, 768893608, 768893612, 768893616, 768893620, 768896415, 768896419, 768896423, 768896427, 768896431, 768896435, 768896439, 768896455, 768896460, 768896464, 768896468, 768896475, 769778687, 770233875, 770244532, 771368424, 774854514, 775378326, 775484233, 775870895, 777082591, 777200179, 778166125, 778304885, 778336659, 778869961, 778980920, 778991399, 779094078, 779818630, 779818638, 780572913, 780758836, 780800167, 780857956, 782075910, 783300691, 783629024, 784156661, 784183719, 784320573, 784393851, 785426306, 785449049, 785493714, 785548988, 785568095, 785944233, 786044921, 786335283, 788017709, 788292165, 788447502, 789004586, 789189147, 789295700, 789990633, 790021107, 790034254, 790475070, 790513030, 790951764, 791241619, 791257562, 791327916, 791381827, 791769447, 791857358, 791862976, 791904071, 791923868, 792477679, 792499741, 792583968, 792610206, 792680306, 793129579, 793153175, 793224785, 793331721, 793343207, 793485674, 794071128, 794093676, 794212766, 794218004, 794290526, 794324246, 794673280, 794889213, 794948906, 794968300, 795002942, 795025333, 795431009, 795614437, 795742990, 795838914, 795903435, 796031509, 796032489, 796043255, 796046197, 796052844, 796056138, 796061632, 796221832, 796233602, 796238258, 796249056, 796251270, 796261840, 796264804, 796607829, 796686959, 796810560, 797054888, 797170547, 797806962, 797830785, 797972680, 798126878, 798145975, 798679618, 798979868, 798986716, 799125582, 799131344, 799288449, 799661667, 799946918, 800202171, 800225601, 802442750, 803341010, 804748984, 804925687, 804971463, 805373492, 805639787, 805694987, 805968845, 806109931, 806296598, 806625285, 806792366, 806841326, 807198458, 807216432, 807356557, 807584876, 807695496, 808107647, 808126003, 808324301, 808432167, 808500887, 808761500, 808780987, 808883789, 809027309, 809321253, 809329233, 809358811, 809427293, 809606861, 809653318, 809679625, 810286461, 810405357, 811199263, 811303680, 811355443, 811817467, 812459830, 812843373, 812955256, 812999735, 814408630, 815011426, 815013139, 815045874, 815348761, 815462454, 815521974, 816229303, 816394256, 816417578, 817081949, 817139151, 817165094, 817861574, 818007489, 818485496, 818663251, 818825644, 819094295, 819223623, 819323551, 819904061, 820124540, 820943076, 821481624, 821521826, 821793157, 821799379, 821931655, 822216581, 822249041, 822368762, 822439453, 822447169, 822919982, 822995693, 823196789, 823251679, 823254723, 823579764, 823998659, 824625446, 824894721, 825235376, 825801398, 825888537, 825888541, 826081621, 826689577, 826697158, 826710043, 826747572, 826776143, 827374774, 827598931, 827951743, 828619772, 828646658, 829137217, 829138845, 829185450, 829562086, 829578829, 829714672, 830201468, 830255592, 830419451, 830832984, 830959034, 831144307, 831824426, 831829761, 832012487, 832497562, 832529101, 832981154, 833000153, 833000160, 833100683, 833255227, 833787977, 833790854, 833946929, 834055145, 834444272, 834635481, 834684544, 834928595, 835444110, 835528695, 835547527, 835820832, 835841635, 835940015, 836042327, 836399024, 836414424, 836628269, 836732377, 837029814, 837108110, 837130542, 837143898, 837485126, 837512169, 838188968, 838479515, 838693430, 839030913, 839139686, 839240915, 839276233, 839489865, 839557830, 839580874, 839582591, 839761276, 840021362, 840317486, 840317490, 840584709, 840632229, 841165505, 841165510, 841466825, 841466837, 841721596, 841721600, 841744905, 841850052, 841855693, 842112575, 842192231, 842230130, 842346969, 842426552, 842443674, 842708980, 842729895, 842743319, 842812730, 842899712, 843166875, 843203333, 843260428, 843401576, 843435340, 843991807, 844027599, 844088414, 844178156, 844608287, 844649493, 844707031, 844849972, 845310496, 845404780, 845441512, 845564457, 846011320, 846054399, 846169963, 846194950, 846710859, 846918259, 846929750, 847048485, 847607233, 847648339, 847808553, 847867029, 848224557, 848278648, 848348215, 848446552, 848503804, 848575992, 848599542, 848613406, 848904543, 848943191, 849034300, 849098851, 849136474, 849147676, 849463662, 849494762, 849525884, 849648618, 849651275, 850766171, 850807174, 850817466, 850976604, 850985993, 850989832, 851442308, 851471401, 851542477, 851563931, 851757903, 851773928, 851838531, 852158334, 852202150, 852229360, 852235678, 852440775, 852451567, 852966248, 852974537, 853025613, 853246069, 853266283, 853496105, 853505213, 853526948, 853858693, 853875514, 854283407, 854407415, 854621677, 855200229, 855424348, 855446545, 855826937, 855866701, 855884201, 855917073, 855994936, 856402900, 856467236, 856528158, 857230827, 857257295, 857340041, 857367017, 857561230, 857968785, 857987666, 858029487, 858967789, 858974731, 858980101, 859685917, 859775117, 860533862, 861701835, 861738523, 861766290, 862326313, 863376857, 863610571, 863610582, 864000200, 864068649, 864146226, 864680374, 864855100, 865164268, 865253462, 865277684, 865378986, 865443447, 865942649, 865980470, 866025592, 866336764, 866925436, 866968898, 867036297, 867073786, 867098393, 867606646, 867754922, 867926348, 867990103, 868064132, 868538192, 868546775, 868684127, 868694359, 868743660, 868819048, 869285539, 869303255, 869319414, 869334643, 869559097, 869623249, 870550054, 870559928, 870592115, 870660821, 870950901, 870960908, 871728975, 871776268, 871808378, 871808394, 872107505, 872123509, 872621004, 872626160, 872646068, 873517635, 873695653, 873701358, 873805547, 873813922, 873846349, 874324533, 874533721, 874699922, 874736737, 874808131, 875020189, 875020233, 875440936, 875471358, 875478405, 875632342, 876510663, 876574139, 876660021, 876678452, 877287655, 877605088, 877617747, 877878435, 878075965, 878120101, 878703444, 879037269, 879846624, 880046522, 880776648, 880780889, 880784794, 881210695, 881278000, 881331768, 881413102, 881651749, 882256127, 882434675, 882446265, 882474961, 882669474, 882748184, 882827577, 882831297, 883462580, 883477472, 883696092, 883863892, 884465968, 884465976, 884596128, 884708099, 884750157, 884808160, 884888379, 885376145, 885492180, 885546697, 885644181, 885795585, 886297541, 886322595, 886440437, 886791689, 886926935, 887011359, 887165432, 887236947, 887978358, 888127012, 888143869, 888282547, 888301437, 889139685, 889175194, 889336784, 889388078, 889396399, 889559462, 889582049, 890016706, 890033129, 890157940, 890374401, 890625596, 890683992, 891446789, 891605682, 891632590, 891792255, 892387252, 892387261, 892516916, 892526544, 892663103, 893335284, 893344360, 893359136, 893429557, 893488330, 893600606, 894083470, 894139589, 894209369, 894368064, 894387870, 894495120, 894619175, 894927442, 894965793, 894987962, 895093830, 895115327, 895134854, 895270560, 895764065, 895804638, 896475939, 896526358, 896756727, 897703721, 898440124, 898650088, 898938037, 898973020, 898982250, 900479996, 900976016, 901251663, 901960209, 902135840, 902265846, 902282058, 902760375, 902871565, 902995620, 902995627, 903043319, 903693444, 903708760, 903842232, 903977177, 903998426, 904015631, 904093829, 904574576, 904574580, 904844395, 904922800, 904932330, 904942190, 906437131, 906472625, 906623513, 906658064, 906715145, 906726736, 906765995, 907053876, 907087105, 907327499, 907437823, 907900077, 907977024, 908065760, 908122381, 908533366, 908533370, 908765007, 908908629, 908963499, 909358702, 909369294, 909893627, 910242118, 910393206, 910829559, 911025799, 911035712, 911035717, 911346386, 911522827, 911527254, 911904713, 911904717, 911919670, 912318850, 912328996, 912570298, 912570324, 912640306, 913673477, 913700906, 913901536, 914211263, 914312579, 914353445, 914364287, 914674795, 914705301, 914715943, 914741760, 914823587, 914852087, 915343355, 915418411, 915667469, 916357042, 916704634, 917261913, 917547537, 917595407, 917618254, 918084674, 918103715, 918296132, 918387856, 918436840, 918474069, 918844986, 918860187, 918860203, 918953326, 919018986, 919063075, 919078244, 919104267, 919459494, 919485101, 919731225, 919871573, 920015895, 920465648, 920798071, 920839478, 921759097, 921840922, 921945665, 922012422, 922467930, 922467939, 922656861, 922717464, 922748059, 922869624, 922894660, 923417326, 923417336, 923639002, 923663030, 923667592, 923823710, 923834852, 924472023, 924529236, 924550325, 924716380, 924729258, 924750401, 925132530, 925508961, 925603486, 926393694, 926434142, 926674326, 926707488, 926828319, 926887331, 927459418, 927716204, 927764490, 927819979, 927905748, 928329082, 928361913, 928609740, 928693384, 928809619, 929341682, 929341697, 929394573, 929481361, 929503445, 929515922, 929818797, 929888611, 929888627, 930335519, 931549617, 931566300, 931927948, 931947735, 931955527, 932160978, 932860560, 932874557, 932884713, 933504759, 933830753, 933869031, 933891483, 934040573, 934812249, 934978224, 935018722, 935119042, 935653479, 935811563, 936019928, 936273485, 937416292, 937645034, 937663417, 937783930, 937799016, 937825662, 938339083, 938377224, 938425882, 938611727, 938635252, 938729036, 938745166, 938991494, 939533442, 939537734, 939538572, 939783516, 939936627, 940017421, 940017429, 940079914, 940243685, 940553228, 940562558, 940628402, 940796859, 941457567, 941752318, 941772092, 941802699, 941891140, 942329079, 942350598, 942562699, 942814025, 943343628, 943479988, 943979277, 944206923, 944823947, 944950609, 945033994, 945147410, 945277725, 945762095, 946065801, 946172858, 946311531, 947311015, 947329225, 947336783, 947442129, 947503956, 948206919, 948225040, 948268536, 948331333, 948341757, 949348713, 949404352, 949427403, 949437795, 950157787, 950188644, 950265106, 950329465, 951520319, 951662735, 952554548, 952746230, 952837870, 952898301, 953011837, 953978404, 953982960, 954120560, 954210875, 954963038, 955023655, 955110047, 955943003, 956010809, 956213722, 956269097, 956415177, 957032492, 957331258, 957387951, 957407888, 958234742, 958434406, 958558087, 958629275, 958888263, 958888268, 958994511, 959014180, 959067498, 959675291, 959681045, 959893902, 959927994, 960501578, 960518793, 960697332, 960742239, 960834330, 961223989, 961226087, 961246494, 961819631, 962191827, 962191834, 962242716, 962318644, 962346335, 962922731, 962984229, 963114728, 963142822, 963176975, 963227578, 963237068, 963302523, 963663505, 963694974, 963923531, 964008613, 964109496, 964137490, 964154134, 964871967, 964894591, 964999392, 965016824, 965023946, 965034185, 965075994, 965505185, 965524692, 965531559, 965727499, 965818657, 966488947, 966540979, 966717522, 966735404, 966754037, 966765494, 966835517, 967449308, 967460086, 967539950, 967660427, 967660435, 968334595, 968401786, 968564134, 968604937, 969223960, 969310457, 969339750, 969472221, 969623770, 969918602, 970095359, 970636536, 970877412, 971531920, 971671333, 971885049, 971886692, 971950909, 972000380, 972018960, 972115039, 972429310, 972433204, 972437528, 972524484, 972525365, 972563412, 972681020, 972685618, 972777809, 972805303, 973350747, 973350755, 973354061, 973418599, 973440813, 973452756, 973679718, 973683279, 973744975, 973836413, 974107025, 974140453, 974282914, 974293399, 974326834, 974606492, 974634733, 974807143, 974910406, 975239345, 975448940, 975498864, 975501344, 976012750, 976039179, 976100195, 976130381, 976215999, 976558967, 976623704, 976853684, 976964099, 977429735, 977451727, 977703100, 977838176, 977870164, 978146789, 978158722, 978184053, 978197451, 978216799, 978234608, 978554430, 978647080, 979202835, 979345675, 979379440, 979414755, 979974202, 980044887, 980102697, 980261694, 981804314, 981823383, 981954859, 981957849, 982558306, 982567046, 982703083, 982714746, 982722856, 982741950, 983268644, 984071678, 985778420, 985792625, 986067979, 986176250, 986234827, 986714895, 986935151, 987200959, 987519849, 987832904, 988099332, 988854432, 988866696, 989036890, 989062361, 989340717, 989362600, 989451415, 990193421, 990207794, 990494957, 990520288, 990963611, 991662910, 991937157, 991992557, 992019509, 992245892, 992251261, 992390858, 992414875, 992416658, 992440576, 992724757, 992729558, 992778639, 992798440, 992815106, 992835728, 993241575, 993242859, 993245074, 993260718, 993267224, 993275724, 993304750, 993471955, 993496240, 993532086, 993537991, 993541036, 993541602, 993570083, 993691759, 993695215, 993706715, 993760890, 993760897, 993766500, 993780754, 993817409, 993957374, 993957378, 993959724, 993965026, 993984422, 993994043, 993995204, 994017601, 994174047, 994174745, 994210659, 994225727, 994705194, 994710581, 994731366, 994743822, 994880774, 994882261, 994894518, 995095123, 995102061, 995142529, 995379633, 995569599, 995570835, 995990486, 998437228, 100057744]

for behavior_session_id in behavior_session_ids:
    PythonJob(
        python_file,
        python_executable='/home/alex.piet/codebase/miniconda3/envs/visbeh/bin/python', 
        python_args=behavior_session_id,
        conda_env=None,
        jobname = 'psy_{}'.format(behavior_session_id),
        **job_settings
    ).run(dryrun=False)



