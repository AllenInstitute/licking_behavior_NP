import sys
#sys.path.append('/allen/programs/braintv/workgroups/nc-ophys/Doug/pbstools')
#from pbstools import PythonJob
sys.path.append('/allen/programs/braintv/workgroups/nc-ophys/nick.ponvert/src/pbstools')
from pbstools import PythonJob 

VERSION ='9'

python_file = r"/allen/programs/braintv/workgroups/nc-ophys/alex.piet/behavior/licking_behavior/scripts/psytrack_mouse_fit_v"+VERSION+".py"
jobdir = '/allen/programs/braintv/workgroups/nc-ophys/alex.piet/behavior/psy_fits_v'+VERSION+'/psytrack_mouse_logs'
job_settings = {'queue': 'braintv',
                'mem': '15g',
                'walltime': '96:00:00',
                'ppn':1,
                'jobdir': jobdir,
                }

# 01/17/19 list
donor_ids = [
       623289718, 642238406, 651725149, 652074239, 653326032, 658984429,
       660049526, 667397351, 692785809, 694420826, 703198154, 703210569,
       703752290, 705093661, 707282079, 710269817, 710324779, 713426152,
       713968352, 716520602, 722884863, 722884873, 729666559, 734705385,
       738695281, 741953980, 744911447, 744935640, 756575004, 756577240,
       756674776, 760928870, 760949537, 765991998, 766015379, 772622642,
       772629800, 784057617, 784267456, 788956787, 788982905, 789014546,
       789113123, 789992895, 791756316, 791855396, 791871796, 795512663,
       795522266, 800311507, 803258370, 803314633, 803582244, 807248984,
       810573033, 813702144, 813703535, 814111925, 820871399, 820878203,
       821470805, 821477899, 823826963, 827778598, 830896318, 830901414,
       830940312, 831004160, 831008730, 834805164, 834811788, 834823464,
       834886263, 834887347, 834902192, 837581576, 837622005, 837622005,
       837628429, 840378930, 840378930, 840383625, 840390361, 840390361,
       840542938, 840544745, 842724844, 843122488, 843387577, 847076515,
       847852158, 847864085, 847865057, 847868524, 850862423, 854612256,
       854625254, 855443950, 859036448, 862509470, 862601565, 862671200,
       866070180, 866078997, 866228952, 870720257, 870943652, 870954569,
       875479693, 876722104, 879053649, 879064131, 880255009, 882757043,
       887127186, 887264955, 900263302, 901206165, 904922330, 910248630,
       910267431, 912554442, 912556121, 912560510, 914425462, 916452069,
       916458879, 916633991, 920769566, 920850680, 920877176, 925205067,
       925216102, 925234041, 929817891, 930825441, 931903077, 935565377,
       940744044, 941612905, 957212144, 962177495]

for donor_id in donor_ids:
    PythonJob(
        python_file,
        python_executable='/home/alex.piet/codebase/miniconda3/envs/visbeh/bin/python', 
        python_args=donor_id,
        conda_env=None,
        jobname = 'psym_{}'.format(donor_id),
        **job_settings
    ).run(dryrun=False)



